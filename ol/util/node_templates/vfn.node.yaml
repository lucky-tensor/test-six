base:
    data_dir: "path/to/data"
    role: "full_node"
    waypoint:
      from_config: "0:683185844ef67e5c8eeaa158e635de2a4c574ce7bbb7f41f787d38db2d623ae2"

execution:
    genesis_file_location: "relative/path/to/genesis"
json_rpc:
    address: 0.0.0.0:8080
    content_length_limit: 4194304 # for upgrade payloads, needs to be big

full_node_networks:
# PUBLIC NETWORK: Serve state sync requests on this port to anyone.
    - listen_address: "/ip4/0.0.0.0/tcp/6180"
      network_id: "public"
      discovery_method: "onchain"
      
# PRIVATE NETWORK for VALIDATOR: Serve state sync requests on this port to anyone. Can be changed to only accept from a certain IP. However Mutual authentication can be used.
    - listen_address: "/ip4/0.0.0.0/tcp/7180"
      network_id:
          private: "vfn"
      max_outbound_connections: 1
      # The identity of the VFN. This can be any peer id.
      # for fullnodes this is typically randomly generated by the config tool.
      # If you are going to use with Validator fullnode, you will need to generate it with config tools.
      # Or update the SEED peers manually on the validator node yaml.
      
      # identity:
      #     type: from_config
      # ## RANDOM ID GENERATED BY CONFIG BUILDER
      #     key: <hash>
      #     peer_id: <peerid>
      
      # For mutual authentication to work the VALIDATOR configs will 
      # need to include this IDENTITY as a SEED peer in the vfn configurations.
      # By default this is set to false because a priori we don't know the keys of validator nor fullnode. But best practice is to bind the Validator to the VFN through mutual authentication.
      mutual_authentication: false 
      
      discovery_method: none # since it's usually just pairwise there's nothing to discover, the Validator connects to VFN
      # Seeds, are used for discovery BUT ALSO mutual authentication if it is enabled.
      # In the case of VFN, the only SEED is the VALIDATOR node the VFN belongs to.
      # The config tools in ol_node_files.rs will set this up.
      # NOTE THE PORT, it should be the same for "vfn network" on both VFN and VALIDATOR in this example 7180
      # seeds:
      #   "<a peer id>":
      #     addresses:
      #       - "/ip4/127.0.0.1/tcp/7180/ln-noise-ik/<a pub key>/ln-handshake/0"
      #     keys: ["<SAME pub key as in address>"]
      #     role: "Validator"
